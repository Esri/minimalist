import{r as t,c as i,h as s,H as e,g as a}from"./p-8d9aae43.js";const o=class{constructor(s){t(this,s),this.num=20,this.start=1,this.total=0,this.textLabelNext="next",this.textLabelPrevious="previous",this.scale="m",this.previousClicked=()=>{this.previousPage().then(),this.emitUpdate()},this.nextClicked=()=>{this.nextPage(),this.emitUpdate()},this.calcitePaginationUpdate=i(this,"calcitePaginationUpdate",7)}connectedCallback(){["s","m","l"].includes(this.scale)||(this.scale="m")}async nextPage(){this.start=Math.min(this.getLastStart(),this.start+this.num)}async previousPage(){this.start=Math.max(1,this.start-this.num)}getLastStart(){const{total:t,num:i}=this;return 1+(t%i==0?t-i:Math.floor(t/i)*i)}showLeftEllipsis(){return Math.floor(this.start/this.num)>3}showRightEllipsis(){return(this.total-this.start)/this.num>3}emitUpdate(){this.calcitePaginationUpdate.emit({start:this.start,total:this.total,num:this.num})}renderPages(){let t,i,s=this.getLastStart();this.total/this.num<=5?(i=1+this.num,t=s-this.num):this.start/this.num<4?(i=1+this.num,t=1+4*this.num):this.start+3*this.num>=this.total?(i=s-4*this.num,t=s-this.num):(i=this.start-this.num,t=this.start+this.num);const e=[];for(;i<=t;)e.push(i),i+=this.num;return e.map(t=>this.renderPage(t))}renderPage(t){const i=Math.floor(t/this.num)+1;return s("button",{class:{page:!0,"is-selected":t===this.start},onClick:()=>{this.start=t,this.emitUpdate()}},i)}renderLeftEllipsis(t){if(this.total/this.num>5&&this.showLeftEllipsis())return s("span",{class:"ellipsis ellipsis--start"},s("calcite-icon",{scale:t,icon:"ellipsis"}))}renderRightEllipsis(t){if(this.total/this.num>5&&this.showRightEllipsis())return s("span",{class:"ellipsis ellipsis--end"},s("calcite-icon",{scale:t,icon:"ellipsis"}))}render(){const{total:t,num:i,start:a}=this,o="l"===this.scale?"m":"s";return s(e,null,s("button",{class:{previous:!0,"is-disabled":a<i},"aria-label":this.textLabelPrevious,onClick:this.previousClicked,disabled:a<i},s("calcite-icon",{scale:o,icon:"chevronLeft"})),this.renderPage(1),this.renderLeftEllipsis(o),this.renderPages(),this.renderRightEllipsis(o),this.renderPage(this.getLastStart()),s("button",{class:{next:!0,"is-disabled":a+i>=t},"aria-label":this.textLabelNext,onClick:this.nextClicked,disabled:a+i>=t},s("calcite-icon",{scale:o,icon:"chevronRight"})))}get el(){return a(this)}};o.style=":host([hidden]){display:none}:host([scale=s]){--calcite-pagination-spacing:4px 8px}:host([scale=s]) .previous,:host([scale=s]) .next,:host([scale=s]) .page{font-size:12px}:host([scale=m]){--calcite-pagination-spacing:8px 12px}:host([scale=m]) .previous,:host([scale=m]) .next,:host([scale=m]) .page{font-size:16px}:host([scale=l]){--calcite-pagination-spacing:12px 16px}:host([scale=l]) .previous,:host([scale=l]) .next,:host([scale=l]) .page{font-size:20px}:host{display:-ms-inline-flexbox;display:inline-flex;background-color:transparent;-webkit-writing-mode:horizontal-tb;-ms-writing-mode:lr-tb;writing-mode:horizontal-tb}:host button{outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out}:host button:focus{outline:2px solid var(--calcite-ui-blue-1);outline-offset:-2px}.previous,.next,.page{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;background-color:transparent;border:none;border-top:3px solid transparent;border-bottom:3px solid transparent;font-family:inherit;font-size:1rem;line-height:1.5;color:var(--calcite-ui-text-3);cursor:pointer}.previous:hover,.next:hover,.page:hover{color:var(--calcite-ui-text-1);-webkit-transition:all 150ms ease-in-out;transition:all 150ms ease-in-out}.page:hover{border-bottom-color:var(--calcite-ui-border-2)}.page.is-selected{font-weight:500;color:var(--calcite-ui-text-1);border-bottom-color:var(--calcite-ui-blue-1)}.previous,.next{padding:var(--calcite-pagination-spacing)}.previous:hover,.next:hover{color:var(--calcite-ui-blue-1);background-color:var(--calcite-ui-foreground-2)}.previous:active,.next:active{background-color:var(--calcite-ui-foreground-3)}.previous.is-disabled,.next.is-disabled{background-color:transparent;pointer-events:none}.previous.is-disabled>calcite-icon,.next.is-disabled>calcite-icon{opacity:0.4}.next{margin-right:0}.page,.ellipsis{padding:var(--calcite-pagination-spacing)}.ellipsis{display:-ms-flexbox;display:flex;-ms-flex-align:end;align-items:flex-end;color:var(--calcite-ui-text-3)}";export{o as calcite_pagination}